{"ast":null,"code":"var _jsxFileName = \"/Users/dongxiaomu/Desktop/csce672/CSCE 672 project/CSCE672-project/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s7 = $RefreshSig$();\n\nimport { useState, Suspense } from \"react\";\nimport { RoomProvider, useOthers, useUpdateMyPresence, useMyPresence, useStorage, useMutation } from \"./liveblocks.config\";\nimport { LiveList } from \"@liveblocks/client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction WhoIsHere() {\n  _s();\n\n  const userCount = useOthers(others => others.length);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"who_is_here\",\n    children: [\"There are \", userCount, \" other users online\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n}\n\n_s(WhoIsHere, \"/mkN/gH4mcLKhy9dmS+FQg+S7rc=\", false, function () {\n  return [useOthers];\n});\n\n_c = WhoIsHere;\n\nfunction SomeoneIsTyping() {\n  _s2();\n\n  const someoneIsTyping = useOthers(others => others.some(other => other.presence.isTyping));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"someone_is_typing\",\n    children: someoneIsTyping ? \"Someone is typing...\" : \"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(SomeoneIsTyping, \"2lwBtv5NgyuGj91l39qj6Z0MkYw=\", false, function () {\n  return [useOthers];\n});\n\n_c2 = SomeoneIsTyping;\n\nfunction AddDescription(props) {\n  _s3();\n\n  const [description, setDescription] = useState(\"\");\n  const [myPresence, updateMyPresence] = useMyPresence();\n  const addDescription = useMutation((_ref, description) => {\n    let {\n      storage\n    } = _ref;\n    const todo = storage.get(\"todos\").get(props.index);\n    todo.description = description;\n    storage.get(\"todos\").set(props.index, todo);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"text\",\n    placeholder: \"Description\",\n    value: description,\n    onChange: e => {\n      setDescription(e.target.value);\n      updateMyPresence({\n        isTyping: true\n      });\n    },\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        updateMyPresence({\n          isTyping: false\n        });\n        addDescription(description);\n        setDescription(\"\");\n      }\n    },\n    onBlur: () => updateMyPresence({\n      isTyping: false\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(AddDescription, \"kBM7fGMCX/dUzd/tWxYahdGs0cc=\", false, function () {\n  return [useMyPresence, useMutation];\n});\n\n_c3 = AddDescription;\n\nfunction AddGroupChat(props) {\n  _s4();\n\n  const [groupChat, setGroupChat] = useState(\"\");\n  const [myPresence, updateMyPresence] = useMyPresence();\n  const addGroupChat = useMutation((_ref2, groupChat) => {\n    let {\n      storage\n    } = _ref2;\n    const todo = storage.get(\"todos\").get(props.index);\n    todo.groupChat = groupChat;\n    storage.get(\"todos\").set(props.index, todo);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"text\",\n    placeholder: \"Group chat\",\n    value: groupChat,\n    onChange: e => {\n      setGroupChat(e.target.value);\n      updateMyPresence({\n        isTyping: true\n      });\n    },\n    onKeyDown: e => {\n      if (e.key === \"Enter\") {\n        updateMyPresence({\n          isTyping: false\n        });\n        addGroupChat(description);\n        setGroupChat(\"\");\n      }\n    },\n    onBlur: () => updateMyPresence({\n      isTyping: false\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s4(AddGroupChat, \"t9Yw9wItxPpvlVpDQca+oIPShJY=\", false, function () {\n  return [useMyPresence, useMutation];\n});\n\n_c4 = AddGroupChat;\n\nfunction AddType(props) {\n  _s5();\n\n  const addType = useMutation((_ref3, type) => {\n    let {\n      storage\n    } = _ref3;\n    const todo = storage.get(\"todos\").get(props.index);\n    todo.type = type;\n    storage.get(\"todos\").set(props.index, todo);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    name: \"type\",\n    id: \"type\",\n    onChange: e => {\n      addType(e.target.value);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"develop\",\n      children: \"develop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"debug\",\n      children: \"debug\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"data processing\",\n      children: \"data processing\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"devops\",\n      children: \"devops\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s5(AddType, \"HHdvNviFPIP7G84TxkJ7u1BNpw0=\", false, function () {\n  return [useMutation];\n});\n\n_c5 = AddType;\n\nfunction AddDeadline(props) {\n  _s6();\n\n  const addDeadline = useMutation((_ref4, deadline) => {\n    let {\n      storage\n    } = _ref4;\n    const todo = storage.get(\"todos\").get(props.index);\n    todo.deadline = deadline;\n    storage.get(\"todos\").set(props.index, todo);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    type: \"date\",\n    id: \"deadline\",\n    name: \"deadline\",\n    value: \"2018-07-22\",\n    min: \"2018-01-01\",\n    max: \"2050-12-31\",\n    onChange: e => {\n      addDeadline(e.target.value);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n\n_s6(AddDeadline, \"V5TB7xU089JKAi8+YimSmLA/aAo=\", false, function () {\n  return [useMutation];\n});\n\n_c6 = AddDeadline;\n\nfunction Room() {\n  _s7();\n\n  const [draft, setDraft] = useState(\"\");\n  const [myPresence, updateMyPresence] = useMyPresence();\n  const todos = useStorage(root => root.todos);\n  const addTodo = useMutation((_ref5, text) => {\n    let {\n      storage\n    } = _ref5;\n    storage.get(\"todos\").push({\n      text\n    });\n  }, []);\n  const deleteTodo = useMutation((_ref6, index) => {\n    let {\n      storage\n    } = _ref6;\n    storage.get(\"todos\").delete(index);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(WhoIsHere, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"What needs to be done?\",\n      value: draft,\n      onChange: e => {\n        setDraft(e.target.value);\n        updateMyPresence({\n          isTyping: true\n        });\n      },\n      onKeyDown: e => {\n        if (e.key === \"Enter\") {\n          updateMyPresence({\n            isTyping: false\n          });\n          addTodo(draft);\n          setDraft(\"\");\n        }\n      },\n      onBlur: () => updateMyPresence({\n        isTyping: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SomeoneIsTyping, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), todos.map((todo, index) => {\n      let color;\n\n      if (todo.deadline) {\n        const deadline = new Date(todo.deadline);\n\n        if (deadline < new Date()) {\n          color = 'red';\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"todo_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"todo\",\n          children: todo.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: todo.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"type\",\n          children: todo.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"deadline\",\n          children: todo.deadline\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddDescription, {\n          index: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddType, {\n          index: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddDeadline, {\n          index: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddGroupChat, {\n          index: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete_button\",\n          onClick: () => deleteTodo(index),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n\n_s7(Room, \"z4IIdLjanOQJV2VNGktrdm9h6wI=\", false, function () {\n  return [useMyPresence, useStorage, useMutation, useMutation];\n});\n\n_c7 = Room;\nexport default function App(_ref7) {\n  let {\n    roomId\n  } = _ref7;\n  return /*#__PURE__*/_jsxDEV(RoomProvider, {\n    id: roomId,\n    initialPresence: {\n      isTyping: false\n    },\n    initialStorage: {\n      todos: new LiveList()\n    },\n    children: /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 27\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Room, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_c8 = App;\n\nfunction Loading() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"https://liveblocks.io/loading.svg\",\n      alt: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n}\n\n_c9 = Loading;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"WhoIsHere\");\n$RefreshReg$(_c2, \"SomeoneIsTyping\");\n$RefreshReg$(_c3, \"AddDescription\");\n$RefreshReg$(_c4, \"AddGroupChat\");\n$RefreshReg$(_c5, \"AddType\");\n$RefreshReg$(_c6, \"AddDeadline\");\n$RefreshReg$(_c7, \"Room\");\n$RefreshReg$(_c8, \"App\");\n$RefreshReg$(_c9, \"Loading\");","map":{"version":3,"sources":["/Users/dongxiaomu/Desktop/csce672/CSCE 672 project/CSCE672-project/src/App.js"],"names":["useState","Suspense","RoomProvider","useOthers","useUpdateMyPresence","useMyPresence","useStorage","useMutation","LiveList","WhoIsHere","userCount","others","length","SomeoneIsTyping","someoneIsTyping","some","other","presence","isTyping","AddDescription","props","description","setDescription","myPresence","updateMyPresence","addDescription","storage","todo","get","index","set","e","target","value","key","AddGroupChat","groupChat","setGroupChat","addGroupChat","AddType","addType","type","AddDeadline","addDeadline","deadline","Room","draft","setDraft","todos","root","addTodo","text","push","deleteTodo","delete","map","color","Date","App","roomId","Loading"],"mappings":"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","sourcesContent":["import { useState, Suspense } from \"react\";\nimport { RoomProvider, useOthers, useUpdateMyPresence, useMyPresence, useStorage, useMutation } from \"./liveblocks.config\";\nimport { LiveList } from \"@liveblocks/client\";\n\nfunction WhoIsHere() {\n  const userCount = useOthers((others) => others.length);\n\n  return (\n    <div className=\"who_is_here\">\n      There are {userCount} other users online\n    </div>\n  );\n}\n\nfunction SomeoneIsTyping() {\n  const someoneIsTyping = useOthers((others) =>\n    others.some((other) => other.presence.isTyping)\n  );\n\n  return (\n    <div className=\"someone_is_typing\">\n      {someoneIsTyping ? \"Someone is typing...\" : \"\"}\n    </div>\n  );\n}\n\nfunction AddDescription(props) {\n  const [description, setDescription] = useState(\"\");\n  const [myPresence, updateMyPresence] = useMyPresence();\n  const addDescription = useMutation(({ storage }, description) => {\n    const todo = storage.get(\"todos\").get(props.index)\n    todo.description = description\n    storage.get(\"todos\").set(props.index, todo)\n  }, []);\n  return (\n    <input\n        type=\"text\"\n        placeholder=\"Description\"\n        value={description}\n        onChange={(e) => {\n          setDescription(e.target.value);\n          updateMyPresence({ isTyping: true });\n        }}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            updateMyPresence({ isTyping: false });\n            addDescription(description)\n            setDescription(\"\");\n          }\n        }}\n        onBlur={() => updateMyPresence({ isTyping: false })}\n      />\n  )\n}\n\nfunction AddGroupChat(props) {\n  const [groupChat, setGroupChat] = useState(\"\");\n  const [myPresence, updateMyPresence] = useMyPresence();\n  const addGroupChat = useMutation(({ storage }, groupChat) => {\n    const todo = storage.get(\"todos\").get(props.index)\n    todo.groupChat = groupChat\n    storage.get(\"todos\").set(props.index, todo)\n  }, []);\n  return (\n    <input\n        type=\"text\"\n        placeholder=\"Group chat\"\n        value={groupChat}\n        onChange={(e) => {\n          setGroupChat(e.target.value);\n          updateMyPresence({ isTyping: true });\n        }}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            updateMyPresence({ isTyping: false });\n            addGroupChat(description)\n            setGroupChat(\"\");\n          }\n        }}\n        onBlur={() => updateMyPresence({ isTyping: false })}\n      />\n  )\n}\n\nfunction AddType(props) {\n  const addType = useMutation(({ storage }, type) => {\n    const todo = storage.get(\"todos\").get(props.index)\n    todo.type = type\n    storage.get(\"todos\").set(props.index, todo)\n  }, []);\n  return (\n    <select \n      name=\"type\" \n      id=\"type\"\n      onChange={(e) => {\n        addType(e.target.value)\n      }}\n    >\n      <option value=\"develop\">develop</option>\n      <option value=\"debug\">debug</option>\n      <option value=\"data processing\">data processing</option>\n      <option value=\"devops\">devops</option>\n    </select>\n  )\n}\n\nfunction AddDeadline(props) {\n  const addDeadline = useMutation(({ storage }, deadline) => {\n    const todo = storage.get(\"todos\").get(props.index)\n    todo.deadline = deadline\n    storage.get(\"todos\").set(props.index, todo)\n  }, []);\n  return (\n    <input \n      type=\"date\" \n      id=\"deadline\" \n      name=\"deadline\"\n      value=\"2018-07-22\"\n      min=\"2018-01-01\" \n      max=\"2050-12-31\"\n      onChange={(e) => {\n          addDeadline(e.target.value)\n      }}\n    >\n    </input>\n  )\n}\n\nfunction Room() {\n  const [draft, setDraft] = useState(\"\");\n  const [myPresence, updateMyPresence] = useMyPresence();\n  const todos = useStorage((root) => root.todos);\n\n  const addTodo = useMutation(({ storage }, text) => {\n    storage.get(\"todos\").push({ text })\n  }, []);\n\n  const deleteTodo = useMutation(({ storage }, index) => {\n    storage.get(\"todos\").delete(index);\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <WhoIsHere />\n      <input\n        type=\"text\"\n        placeholder=\"What needs to be done?\"\n        value={draft}\n        onChange={(e) => {\n          setDraft(e.target.value);\n          updateMyPresence({ isTyping: true });\n        }}\n        onKeyDown={(e) => {\n          if (e.key === \"Enter\") {\n            updateMyPresence({ isTyping: false });\n            addTodo(draft);\n            setDraft(\"\");\n          }\n        }}\n        onBlur={() => updateMyPresence({ isTyping: false })}\n      />\n      <SomeoneIsTyping />\n      {todos.map((todo, index) => {\n        let color;\n        if (todo.deadline) {\n          const deadline = new Date(todo.deadline);\n          if (deadline < new Date()){\n            color = 'red'\n          }\n        }\n        return (\n          <div key={index} className=\"todo_container\">\n            <div className=\"todo\">{todo.text}</div>\n            <div className=\"description\">{todo.description}</div>\n            <div className=\"type\">{todo.type}</div>\n            <div className=\"deadline\">{todo.deadline}</div>\n            <AddDescription index={index}/>\n            <AddType index={index}/>\n            <AddDeadline index={index}/>\n            <AddGroupChat index={index}/>\n            <button\n              className=\"delete_button\"\n              onClick={() => deleteTodo(index)}\n            >\n              âœ•\n            </button>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default function App({ roomId }) {\n  return (\n    <RoomProvider\n      id={roomId}\n      initialPresence={{ isTyping: false }}\n      initialStorage={{ todos: new LiveList() }}\n    >\n      <Suspense fallback={<Loading />}>\n        <Room />\n      </Suspense>\n    </RoomProvider>\n  )\n}\n\nfunction Loading() {\n  return (\n    <div className=\"loading\">\n      <img src=\"https://liveblocks.io/loading.svg\" alt=\"Loading\" />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}